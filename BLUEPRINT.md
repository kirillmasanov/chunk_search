# AI Search Demo - Yandex Cloud Blueprint

## 1. ะะฒะตะดะตะฝะธะต

**ะะฐะทะฒะฐะฝะธะต ะฟัะพะตะบัะฐ:** AI Search Demo - Custom Chunks

**ะะฟะธัะฐะฝะธะต ะทะฐะดะฐัะธ:**

AI Search Demo โ ััะพ ะดะตะผะพะฝัััะฐัะธะพะฝะฝะพะต ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะต ะดะปั ะฟะพะบะฐะทะฐ ะฟัะตะธะผััะตััะฒ ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั ัะฐะฝะบะพะฒ ะฒ Yandex Cloud AI Studio. ะัะธะปะพะถะตะฝะธะต ััะฐะฒะฝะธะฒะฐะตั ะดะฒะฐ ะฟะพะดัะพะดะฐ ะบ ัะฐะฝะบะพะฒะฐะฝะธั ะดะพะบัะผะตะฝัะพะฒ: ะฐะฒัะพะผะฐัะธัะตัะบะพะต (ะฟะปะฐััะพัะผะฐ ัะฐะผะฐ ัะฐะทะฑะธะฒะฐะตั ะดะพะบัะผะตะฝั) ะธ ะฟะพะปัะทะพะฒะฐัะตะปััะบะพะต (ะทะฐะณััะทะบะฐ ะณะพัะพะฒัั ัะฐะฝะบะพะฒ ะฒ ัะพัะผะฐัะต JSONL).


**ะัะฝะพะฒะฝัะต ัะตัะฒะธัั Yandex Cloud:**
- Vector Store API (ััะฐะฝะตะฝะธะต ะธ ะฟะพะธัะบ ะฟะพ ะฒะตะบัะพัะฝัะผ ะฟัะตะดััะฐะฒะปะตะฝะธัะผ)
- Files API (ะทะฐะณััะทะบะฐ ะธ ัะฟัะฐะฒะปะตะฝะธะต ัะฐะนะปะฐะผะธ ั ะฟะพะดะดะตัะถะบะพะน ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั ัะฐะฝะบะพะฒ)
- AI Studio Model Gallery (ะณะตะฝะตัะฐัะธั ะพัะฒะตัะพะฒ ะฝะฐ ะพัะฝะพะฒะต ะฝะฐะนะดะตะฝะฝะพะณะพ ะบะพะฝัะตะบััะฐ)

**ะฆะตะปั ะธ ะพะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:**

ะะพัะปะต ะฒัะฟะพะปะฝะตะฝะธั ะธะฝััััะบัะธะน ะธะท ััะพะณะพ ะดะพะบัะผะตะฝัะฐ ะฒั ะฟะพะปััะธัะต ัะฐะฑะพัะฐััะตะต ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะต, ะบะพัะพัะพะต:
- ะะตะผะพะฝัััะธััะตั ัะฐะทะฝะธัั ะผะตะถะดั ะฐะฒัะพะผะฐัะธัะตัะบะธะผ ะธ ะฟะพะปัะทะพะฒะฐัะตะปััะบะธะผ ัะฐะฝะบะพะฒะฐะฝะธะตะผ
- ะะพะบะฐะทัะฒะฐะตั ะฟัะตะธะผััะตััะฒะฐ ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั ัะฐะฝะบะพะฒ ัะตัะตะท ััะฐะฒะฝะตะฝะธะต score ัะตะปะตะฒะฐะฝัะฝะพััะธ
- ะัะตะดะพััะฐะฒะปัะตั ัะดะพะฑะฝัะน ะฒะตะฑ-ะธะฝัะตััะตะนั ะดะปั ัะฐะฑะพัั ั ะพะฑะพะธะผะธ ัะตะถะธะผะฐะผะธ
- ะัะฟะพะปัะทัะตั RAG (Retrieval-Augmented Generation) ะดะปั ะณะตะฝะตัะฐัะธะธ ะพัะฒะตัะพะฒ

---

## 2. ะััะธัะตะบัััะฐ ัะตัะตะฝะธั

### ะะฟะธัะฐะฝะธะต ะฐััะธัะตะบัััั

ะัะธะปะพะถะตะฝะธะต ะฟะพัััะพะตะฝะพ ะฝะฐ ะพัะฝะพะฒะต FastAPI ะธ ัะฐะฑะพัะฐะตั ะบะฐะบ ะฒะตะฑ-ัะตัะฒะธั ั ะฟัะพััะพะน ะฐััะธัะตะบัััะพะน. ะะพะปัะทะพะฒะฐัะตะปั ะฒะทะฐะธะผะพะดะตะนััะฒัะตั ั ะฟัะธะปะพะถะตะฝะธะตะผ ัะตัะตะท ะฒะตะฑ-ะธะฝัะตััะตะนั, ะฒัะฑะธัะฐั ะพะดะธะฝ ะธะท ะดะฒัั ัะตะถะธะผะพะฒ ัะฐะฑะพัั:

1. **ะะฝะธัะธะฐะปะธะทะฐัะธั ะธะฝะดะตะบัะพะฒ** โ ะกะพะทะดะฐะฝะธะต ะดะฒัั Vector Store (ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะธ ะฟะพะปัะทะพะฒะฐัะตะปััะบะพะณะพ ัะฐะฝะบะพะฒะฐะฝะธั)
2. **ะะฐะณััะทะบะฐ ะดะฐะฝะฝัั** โ ะะฐะณััะทะบะฐ ัะฐะนะปะพะฒ `faq.txt` ะธ `faq_chunks.jsonl` ะฒ ัะพะพัะฒะตัััะฒัััะธะต Vector Store
3. **ะะฝะดะตะบัะฐัะธั** โ ะะพัััะพะตะฝะธะต ะฒะตะบัะพัะฝัั ะธะฝะดะตะบัะพะฒ (ะฐะฒัะพะผะฐัะธัะตัะบะพะต ัะฐะฝะบะพะฒะฐะฝะธะต ะดะปั ัะตะถะธะผะฐ A, ะณะพัะพะฒัะต ัะฐะฝะบะธ ะดะปั ัะตะถะธะผะฐ B)
4. **ะะพะธัะบ** โ ะะพะปัะทะพะฒะฐัะตะปั ะฒะฒะพะดะธั ะทะฐะฟัะพั, ัะธััะตะผะฐ ะฝะฐัะพะดะธั ัะตะปะตะฒะฐะฝัะฝัะต ัะฐะฝะบะธ ะฒ ะฒัะฑัะฐะฝะฝะพะผ ัะตะถะธะผะต
5. **ะะตะฝะตัะฐัะธั ะพัะฒะตัะฐ** โ ะะพะดะตะปั ะณะตะฝะตัะธััะตั ะพัะฒะตั ะฝะฐ ะพัะฝะพะฒะต ะฝะฐะนะดะตะฝะฝัั ัะฐะฝะบะพะฒ
6. **ะะตะทัะปััะฐั** โ ะัะพะฑัะฐะถะตะฝะธะต ะพัะฒะตัะฐ ะธ ะฝะฐะนะดะตะฝะฝัั ัะฐะฝะบะพะฒ ั ะธั score ัะตะปะตะฒะฐะฝัะฝะพััะธ

### ะะพะผะฟะพะฝะตะฝัั ัะธััะตะผั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ะะพะปัะทะพะฒะฐัะตะปั                              โ
โ                  (Web Browser)                               โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ HTTP
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   Frontend Layer                             โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  Web Interface (Vanilla JS + HTML/CSS)               โ  โ
โ  โ  - ะะตะถะธะผ A: ะะฒัะพะผะฐัะธัะตัะบะพะต ัะฐะฝะบะพะฒะฐะฝะธะต                โ  โ
โ  โ  - ะะตะถะธะผ B: ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ัะฐะฝะบะธ                   โ  โ
โ  โ  - ะะพะธัะบ ะธ ะพัะพะฑัะฐะถะตะฝะธะต ัะตะทัะปััะฐัะพะฒ                   โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ REST API
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   Backend Layer                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  FastAPI Application (Python)                        โ  โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ  โ
โ  โ  โ  Vector Store Manager                          โ  โ  โ
โ  โ  โ  - ะกะพะทะดะฐะฝะธะต ะธ ัะฟัะฐะฒะปะตะฝะธะต Vector Store          โ  โ  โ
โ  โ  โ  - ะะฐะณััะทะบะฐ ัะฐะนะปะพะฒ (txt ะธ jsonl)               โ  โ  โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ  โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ  โ
โ  โ  โ  Search Engine                                 โ  โ  โ
โ  โ  โ  - ะะพะธัะบ ะฟะพ Vector Store                       โ  โ  โ
โ  โ  โ  - RAG ะณะตะฝะตัะฐัะธั ะพัะฒะตัะพะฒ                       โ  โ  โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ OpenAI SDK
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              Yandex Cloud AI Studio                          โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  Vector Store API                                    โ  โ
โ  โ  - ะะตะบัะพัะฝะพะต ััะฐะฝะธะปะธัะต                               โ  โ
โ  โ  - ะะฝะดะตะบัะฐัะธั ะดะพะบัะผะตะฝัะพะฒ                             โ  โ
โ  โ  - ะกะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ                               โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  Files API                                           โ  โ
โ  โ  - ะะฐะณััะทะบะฐ ัะฐะนะปะพะฒ                                   โ  โ
โ  โ  - ะะฒัะพะผะฐัะธัะตัะบะพะต ัะฐะฝะบะพะฒะฐะฝะธะต                         โ  โ
โ  โ  - ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ัะฐะฝะบะธ (JSONL)                    โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  Model Gallery                                       โ  โ
โ  โ  - qwen3-235b-a22b-fp8/latest                        โ  โ
โ  โ  - ะะตะฝะตัะฐัะธั ะพัะฒะตัะพะฒ ะฝะฐ ะพัะฝะพะฒะต ะบะพะฝัะตะบััะฐ            โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะัะฟะพะปัะทัะตะผัะต ัะตัะฒะธัั Yandex Cloud

| ะกะตัะฒะธั | ะะฐะทะฝะฐัะตะฝะธะต | ะะตะพะฑัะพะดะธะผัะต ัะพะปะธ ะดะปั ัะตัะฒะธัะฝะพะณะพ ะฐะบะบะฐัะฝัะฐ |
|--------|------------|-------------------------------------------|
| **Vector Store API** | ะฅัะฐะฝะตะฝะธะต ะธ ะฟะพะธัะบ ะฟะพ ะฒะตะบัะพัะฝัะผ ะฟัะตะดััะฐะฒะปะตะฝะธัะผ ะดะพะบัะผะตะฝัะพะฒ | - `ai.assistants.editor` โ ัะพะทะดะฐะฝะธะต ะธ ัะฟัะฐะฒะปะตะฝะธะต Vector Store |
| **Files API** | ะะฐะณััะทะบะฐ ัะฐะนะปะพะฒ ั ะฟะพะดะดะตัะถะบะพะน ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะธ ะฟะพะปัะทะพะฒะฐัะตะปััะบะพะณะพ ัะฐะฝะบะพะฒะฐะฝะธั | - `ai.assistants.editor` โ ะทะฐะณััะทะบะฐ ะธ ัะฟัะฐะฒะปะตะฝะธะต ัะฐะนะปะฐะผะธ |
| **AI Studio Model Gallery** | ะะตะฝะตัะฐัะธั ะพัะฒะตัะพะฒ ะฝะฐ ะพัะฝะพะฒะต ะฝะฐะนะดะตะฝะฝะพะณะพ ะบะพะฝัะตะบััะฐ | - `ai.assistants.editor` โ ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ะผะพะดะตะปะตะน ะดะปั ะณะตะฝะตัะฐัะธะธ ะพัะฒะตัะพะฒ<br>- `ai.languageModels.user` โ ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ัะทัะบะพะฒัั ะผะพะดะตะปะตะน |


### ะัะพะฑะตะฝะฝะพััะธ ัะตะฐะปะธะทะฐัะธะธ

- **ะัะพััะฐั ะฐััะธัะตะบัััะฐ**: ะะตัั ะบะพะด ะฒ ะพะดะฝะพะผ ัะฐะนะปะต `main.py` ะดะปั ะฟัะพััะพัั ะฟะพะฝะธะผะฐะฝะธั
- **ะัะธะฝััะพะฝะฝัะต ะพะฟะตัะฐัะธะธ**: ะัะฟะพะปัะทะพะฒะฐะฝะธะต `AsyncOpenAI` ะดะปั ะฟะฐัะฐะปะปะตะปัะฝะพะน ัะฐะฑะพัั ั API
- **ะคะพัะผะฐั JSONL**: ะะฐะถะดะฐั ัััะพะบะฐ โ ะพัะดะตะปัะฝัะน JSON ะพะฑัะตะบั ั ะฟะพะปะตะผ `body`
- **ะะฐัััะฐะธะฒะฐะตะผัะน ะฟะพะธัะบ**: ะะฐัะฐะผะตัั `max_num_results` ะดะปั ะบะพะฝััะพะปั ะบะพะปะธัะตััะฒะฐ ัะตะทัะปััะฐัะพะฒ
- **RAG ะณะตะฝะตัะฐัะธั**: ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฝะฐะนะดะตะฝะฝัั ัะฐะฝะบะพะฒ ะบะฐะบ ะบะพะฝัะตะบััะฐ ะดะปั ะผะพะดะตะปะธ
- **Docker-ready**: ะะพะปะฝะฐั ะฟะพะดะดะตัะถะบะฐ ะบะพะฝัะตะนะฝะตัะธะทะฐัะธะธ ั ะฐะฒัะพะผะฐัะธัะตัะบะพะน ัััะฐะฝะพะฒะบะพะน ะทะฐะฒะธัะธะผะพััะตะน

---

## 3. ะะพะดะณะพัะพะฒะบะฐ ะพะบััะถะตะฝะธั

### ะกะธััะตะผะฝัะต ััะตะฑะพะฒะฐะฝะธั

- **Python 3.11+**
- **uv** (ะผะตะฝะตะดะถะตั ะฟะฐะบะตัะพะฒ Python)
- **Docker ะธ Docker Compose** (ะพะฟัะธะพะฝะฐะปัะฝะพ, ะดะปั ะบะพะฝัะตะนะฝะตัะธะทะฐัะธะธ)

### ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

#### ะะฐัะธะฐะฝั 1: ะะพะบะฐะปัะฝะฐั ัััะฐะฝะพะฒะบะฐ ั uv

```bash
# ะฃััะฐะฝะพะฒะบะฐ uv (ะผะตะฝะตะดะถะตั ะฟะฐะบะตัะพะฒ Python)
curl -LsSf https://astral.sh/uv/install.sh | sh

# ะะพะฑะฐะฒะปะตะฝะธะต uv ะฒ PATH
echo 'export PATH="$HOME/.cargo/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc

# ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั
git clone https://github.com/kirillmasanov/chunk_search
cd chunk_search

# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน ะธ ัะพะทะดะฐะฝะธะต ะฒะธัััะฐะปัะฝะพะณะพ ะพะบััะถะตะฝะธั
uv sync

# ะะบัะธะฒะฐัะธั ะพะบััะถะตะฝะธั
source .venv/bin/activate  # macOS/Linux
# ะธะปะธ
.venv\Scripts\activate     # Windows
```

**ะัะธะผะตัะฐะฝะธะต:** ะะพะผะฐะฝะดะฐ `uv sync` ะฐะฒัะพะผะฐัะธัะตัะบะธ:
- ะกะพะทะดะฐะตั ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต (ะตัะปะธ ะตะณะพ ะฝะตั)
- ะฃััะฐะฝะฐะฒะปะธะฒะฐะตั ะฒัะต ะทะฐะฒะธัะธะผะพััะธ ะธะท `pyproject.toml`
- ะกะธะฝััะพะฝะธะทะธััะตั ะพะบััะถะตะฝะธะต ั lock-ัะฐะนะปะพะผ `uv.lock`

#### ะะฐัะธะฐะฝั 2: Docker

```bash
# ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั
git clone https://github.com/kirillmasanov/chunk_search
cd chunk_search

# Docker ะฐะฒัะพะผะฐัะธัะตัะบะธ ัััะฐะฝะพะฒะธั ะฒัะต ะทะฐะฒะธัะธะผะพััะธ ะฟัะธ ัะฑะพัะบะต
```

#### ะฃััะฐะฝะพะฒะบะฐ Docker (Ubuntu)

ะัะปะธ Docker ะตัะต ะฝะต ัััะฐะฝะพะฒะปะตะฝ ะฝะฐ ะฒะฐัะตะน ัะธััะตะผะต Ubuntu, ะฒัะฟะพะปะฝะธัะต ัะปะตะดัััะธะต ะบะพะผะฐะฝะดั:

```bash
# ะะฑะฝะพะฒะปะตะฝะธะต ัะฟะธัะบะฐ ะฟะฐะบะตัะพะฒ
sudo apt-get update

# ะฃััะฐะฝะพะฒะบะฐ ะฝะตะพะฑัะพะดะธะผัั ะฟะฐะบะตัะพะฒ
sudo apt-get install -y \
    ca-certificates \
    curl \
    gnupg \
    lsb-release

# ะะพะฑะฐะฒะปะตะฝะธะต ะพัะธัะธะฐะปัะฝะพะณะพ GPG ะบะปััะฐ Docker
sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

# ะะพะฑะฐะฒะปะตะฝะธะต ัะตะฟะพะทะธัะพัะธั Docker
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# ะะฑะฝะพะฒะปะตะฝะธะต ัะฟะธัะบะฐ ะฟะฐะบะตัะพะฒ
sudo apt-get update

# ะฃััะฐะฝะพะฒะบะฐ Docker Engine, containerd ะธ Docker Compose
sudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

# ะะพะฑะฐะฒะปะตะฝะธะต ัะตะบััะตะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั ะฒ ะณััะฟะฟั docker (ััะพะฑั ะฝะต ะธัะฟะพะปัะทะพะฒะฐัั sudo)
sudo usermod -aG docker $USER

# ะัะธะผะตะฝะตะฝะธะต ะธะทะผะตะฝะตะฝะธะน ะฒ ะณััะฟะฟะฐั (ััะตะฑัะตััั ะฟะตัะตะปะพะณะธะฝะธัััั ะธะปะธ ะฒัะฟะพะปะฝะธัั)
newgrp docker

# ะัะพะฒะตัะบะฐ ัััะฐะฝะพะฒะบะธ
docker --version
docker compose version
```

**ะัะธะผะตัะฐะฝะธะต:** ะะพัะปะต ะดะพะฑะฐะฒะปะตะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปั ะฒ ะณััะฟะฟั `docker` ะผะพะถะตั ะฟะพััะตะฑะพะฒะฐัััั ะฒััะพะด ะธะท ัะธััะตะผั ะธ ะฟะพะฒัะพัะฝัะน ะฒัะพะด ะดะปั ะฟัะธะผะตะฝะตะฝะธั ะธะทะผะตะฝะตะฝะธะน.

### ะะฐัััะพะนะบะฐ Yandex Cloud CLI (ะพะฟัะธะพะฝะฐะปัะฝะพ)

ะะปั ะฐะฒัะพะผะฐัะธะทะฐัะธะธ ัะพะทะดะฐะฝะธั ัะตััััะพะฒ ัััะฐะฝะพะฒะธัะต Yandex Cloud CLI:

```bash
# ะฃััะฐะฝะพะฒะบะฐ yc CLI
curl -sSL https://storage.yandexcloud.net/yandexcloud-yc/install.sh | bash

# ะะฝะธัะธะฐะปะธะทะฐัะธั ะธ ะบะพะฝัะธะณััะฐัะธั
yc init
```

---

## 4. ะะฐะทะฒััััะฒะฐะฝะธะต ะธะฝััะฐััััะบัััั

### 4.1. ะกะพะทะดะฐะฝะธะต ัะตัะฒะธัะฝะพะณะพ ะฐะบะบะฐัะฝัะฐ

#### ะงะตัะตะท ะฒะตะฑ-ะบะพะฝัะพะปั:

1. ะะตัะตะนะดะธัะต ะฒ [ะบะพะฝัะพะปั Yandex Cloud](https://console.cloud.yandex.ru/)
2. ะัะฑะตัะธัะต ะฒะฐั ะบะฐัะฐะปะพะณ
3. ะะตัะตะนะดะธัะต ะฒ ัะฐะทะดะตะป "ะกะตัะฒะธัะฝัะต ะฐะบะบะฐัะฝัั"
4. ะะฐะถะผะธัะต "ะกะพะทะดะฐัั ัะตัะฒะธัะฝัะน ะฐะบะบะฐัะฝั"
5. ะฃะบะฐะถะธัะต ะธะผั, ะฝะฐะฟัะธะผะตั, `ai-search-demo-sa`
6. ะะพะฑะฐะฒััะต ะพะฟะธัะฐะฝะธะต, ะฝะฐะฟัะธะผะตั, "Service account for AI Search Demo"

#### ะงะตัะตะท CLI:

```bash
# ะกะพะทะดะฐะฝะธะต ัะตัะฒะธัะฝะพะณะพ ะฐะบะบะฐัะฝัะฐ
yc iam service-account create \
  --name ai-search-demo-sa \
  --description "Service account for AI Search Demo"

# ะะพะปััะตะฝะธะต ID ัะพะทะดะฐะฝะฝะพะณะพ ะฐะบะบะฐัะฝัะฐ
SA_ID=$(yc iam service-account get ai-search-demo-sa --format json | jq -r '.id')
echo "Service Account ID: $SA_ID"
```

### 4.2. ะะฐะทะฝะฐัะตะฝะธะต ัะพะปะตะน

ะกะตัะฒะธัะฝะพะผั ะฐะบะบะฐัะฝัั ะฝะตะพะฑัะพะดะธะผั ัะพะปะธ ะดะปั ัะฐะฑะพัั ั AI Studio:

#### ะงะตัะตะท ะฒะตะฑ-ะบะพะฝัะพะปั:

1. ะัะบัะพะนัะต ัััะฐะฝะธัั ะบะฐัะฐะปะพะณะฐ
2. ะะตัะตะนะดะธัะต ะฝะฐ ะฒะบะปะฐะดะบั "ะัะฐะฒะฐ ะดะพัััะฟะฐ"
3. ะะฐะถะผะธัะต "ะะฐะทะฝะฐัะธัั ัะพะปะธ"
4. ะัะฑะตัะธัะต ัะตัะฒะธัะฝัะน ะฐะบะบะฐัะฝั `ai-search-demo-sa`
5. ะะพะฑะฐะฒััะต ัะพะปะธ:
   - `ai.assistants.editor`
   - `ai.languageModels.user`

#### ะงะตัะตะท CLI:

```bash
# ะะพะปััะตะฝะธะต FOLDER_ID
FOLDER_ID=$(yc config get folder-id)

# ะะฐะทะฝะฐัะตะฝะธะต ัะพะปะตะน ะดะปั ัะฐะฑะพัั ั AI Studio
yc resource-manager folder add-access-binding $FOLDER_ID \
  --role ai.assistants.editor \
  --service-account-id $SA_ID

yc resource-manager folder add-access-binding $FOLDER_ID \
  --role ai.languageModels.user \
  --service-account-id $SA_ID
```

### 4.3. ะกะพะทะดะฐะฝะธะต API ะบะปััะฐ

#### ะงะตัะตะท ะฒะตะฑ-ะบะพะฝัะพะปั:

1. ะัะบัะพะนัะต ัััะฐะฝะธัั ัะตัะฒะธัะฝะพะณะพ ะฐะบะบะฐัะฝัะฐ
2. ะะตัะตะนะดะธัะต ะฝะฐ ะฒะบะปะฐะดะบั "API-ะบะปััะธ"
3. ะะฐะถะผะธัะต "ะกะพะทะดะฐัั API-ะบะปัั"
4. ะฃะบะฐะถะธัะต ะพะฑะปะฐััั ะดะตะนััะฒะธั: `yc.ai.foundationModels.execute`
5. **ะะฐะถะฝะพ:** ะกะบะพะฟะธััะนัะต ะบะปัั (ะพะฝ ะฟะพะบะฐะทัะฒะฐะตััั ัะพะปัะบะพ ะพะดะธะฝ ัะฐะท!)

#### ะงะตัะตะท CLI:

```bash
# ะกะพะทะดะฐะฝะธะต API-ะบะปััะฐ ั ะพะฑะปะฐัััั ะดะตะนััะฒะธั ะดะปั Foundation Models
API_KEY=$(yc iam api-key create \
  --service-account-id $SA_ID \
  --scopes yc.ai.foundationModels.execute \
  --format json | jq -r '.secret')
echo "API Key: $API_KEY"
```

### 4.4. ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั

ะกะพะทะดะฐะนัะต ัะฐะนะป `.env` ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ ะฝะฐ ะพัะฝะพะฒะต `.env.example`:

```bash
# ะกะบะพะฟะธัะพะฒะฐัั ะพะฑัะฐะทะตั
cp .env.example .env

# ะััะตะดะฐะบัะธัะพะฒะฐัั ัะฐะนะป ะธ ะทะฐะผะตะฝะธัั ะทะฝะฐัะตะฝะธั
nano .env  # ะธะปะธ vim .env
```

**ะะฒัะพะผะฐัะธัะตัะบะพะต ัะพะทะดะฐะฝะธะต ัะตัะตะท CLI:**

```bash
FOLDER_ID=$(yc config get folder-id)
SA_ID=$(yc iam service-account get ai-search-demo-sa --format json | jq -r '.id')
API_KEY=$(yc iam api-key create \
  --service-account-id $SA_ID \
  --scopes yc.ai.foundationModels.execute \
  --format json | jq -r '.secret')

# ะกะพะทะดะฐัั .env ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ
cat > .env << EOF
YANDEX_API_KEY=$API_KEY
YANDEX_FOLDER_ID=$FOLDER_ID
YANDEX_CLOUD_MODEL=qwen3-235b-a22b-fp8/latest
SERVER_PORT=8000
EOF

echo "ะคะฐะนะป .env ัะพะทะดะฐะฝ ััะฟะตัะฝะพ ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ"
```

**ะัะธะผะตัะฐะฝะธะต:** ะคะฐะนะป `.env` ะดะพะปะถะตะฝ ะฝะฐัะพะดะธัััั ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ (ััะดะพะผ ั `docker-compose.yml`), ะฐ ะฝะต ะฒ ะดะธัะตะบัะพัะธะธ `backend/`. ะญัะพ ะพะฑะตัะฟะตัะธะฒะฐะตั ะตะดะธะฝะพะพะฑัะฐะทะธะต ะดะปั ะปะพะบะฐะปัะฝะพะน ัะฐะทัะฐะฑะพัะบะธ ะธ Docker.

---

## 5. ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั

### ะะฐัะธะฐะฝั 1: ะะฐะฟััะบ ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ Python

```bash
# ะะท ะบะพัะฝั ะฟัะพะตะบัะฐ
# ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั ัะตัะตะท uv
uv run uvicorn backend.main:app --reload --host 0.0.0.0 --port 8000
```

ะัะธะปะพะถะตะฝะธะต ะฑัะดะตั ะดะพัััะฟะฝะพ ะฝะฐ ะฟะพััั **8000**.

**ะะปััะตัะฝะฐัะธะฒะฝัะน ัะฟะพัะพะฑ (ะธะท ะดะธัะตะบัะพัะธะธ backend):**

```bash
cd backend
uv run uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

### ะะฐัะธะฐะฝั 2: ะะฐะฟััะบ ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ Docker

**ะะฐะถะฝะพ:** ะะตัะตะด ะทะฐะฟััะบะพะผ Docker ัะฑะตะดะธัะตัั, ััะพ ะฒั ัะพะทะดะฐะปะธ `.env` ัะฐะนะป ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ (ัะผ. ัะฐะทะดะตะป 4.4 "ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั"). ะะตะท ััะพะณะพ ัะฐะนะปะฐ ะฟัะธะปะพะถะตะฝะธะต ะฝะต ัะผะพะถะตั ะฟะพะดะบะปััะธัััั ะบ Yandex Cloud AI Studio.

```bash
# ะะท ะบะพัะฝั ะฟัะพะตะบัะฐ
# ะกะพะทะดะฐะนัะต .env ัะฐะนะป ะฝะฐ ะพัะฝะพะฒะต ะพะฑัะฐะทัะฐ
cp .env.example .env

# ะััะตะดะฐะบัะธััะนัะต .env ะธ ัะบะฐะถะธัะต ะฒะฐัะธ ะทะฝะฐัะตะฝะธั
nano .env  # ะธะปะธ vim .env

# ะฃะฑะตะดะธัะตัั, ััะพ .env ัะฐะนะป ัะพะทะดะฐะฝ ะธ ัะพะดะตัะถะธั ะฟัะฐะฒะธะปัะฝัะต ะทะฝะฐัะตะฝะธั
cat .env

# ะกะฑะพัะบะฐ ะธ ะทะฐะฟััะบ ะบะพะฝัะตะนะฝะตัะฐ
docker compose up -d

# ะัะพัะผะพัั ะปะพะณะพะฒ
docker compose logs -f

# ะัะพะฒะตัะบะฐ ััะฐัััะฐ
docker compose ps
```

ะัะธะปะพะถะตะฝะธะต ะฑัะดะตั ะดะพัััะฟะฝะพ ะฝะฐ ะฟะพััั **8000** (ะธะปะธ ะฝะฐ ะฟะพััั, ัะบะฐะทะฐะฝะฝะพะผ ะฒ ะฟะตัะตะผะตะฝะฝะพะน `SERVER_PORT`).

**ะัะธะผะตัะฐะฝะธะต:** ะัะปะธ ะฒั ะฒะธะดะธัะต ะฟัะตะดัะฟัะตะถะดะตะฝะธั ะพ ะฝะตัััะฐะฝะพะฒะปะตะฝะฝัั ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั (YANDEX_API_KEY, YANDEX_FOLDER_ID), ััะพ ะพะทะฝะฐัะฐะตั, ััะพ `.env` ัะฐะนะป ะฝะต ัะพะทะดะฐะฝ ะธะปะธ ะฝะฐัะพะดะธััั ะฝะต ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ, ะธะปะธ ัะพะดะตัะถะธั ะฟััััะต ะทะฝะฐัะตะฝะธั.

### ะัะพะฒะตัะบะฐ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ

ะัะบัะพะนัะต ะฒ ะฑัะฐัะทะตัะต:
- **ะัะธ ะปะพะบะฐะปัะฝะพะผ ะทะฐะฟััะบะต:** `http://localhost:8000`
- **ะัะธ ะทะฐะฟััะบะต ัะตัะตะท Docker:** `http://localhost:8000`
- **ะัะธ ะทะฐะฟััะบะต ะฝะฐ ะฒะธัััะฐะปัะฝะพะน ะผะฐัะธะฝะต:** `http://<IP-ะฐะดัะตั-ะะ>:8000`

**ะัะธะผะตัะฐะฝะธะต:** ะัะธ ัะฐะทะฒะตัััะฒะฐะฝะธะธ ะฝะฐ ะฒะธัััะฐะปัะฝะพะน ะผะฐัะธะฝะต ะฒ Yandex Cloud ัะฑะตะดะธัะตัั, ััะพ:
- ะ ะณััะฟะฟะต ะฑะตะทะพะฟะฐัะฝะพััะธ ะพัะบััั ัะพะพัะฒะตัััะฒัััะธะน ะฟะพัั
- ะฃ ะฒะธัััะฐะปัะฝะพะน ะผะฐัะธะฝั ะตััั ะฟัะฑะปะธัะฝัะน IP-ะฐะดัะตั (ะตัะปะธ ััะตะฑัะตััั ะดะพัััะฟ ะธะท ะธะฝัะตัะฝะตัะฐ)

ะั ะดะพะปะถะฝั ัะฒะธะดะตัั ะฒะตะฑ-ะธะฝัะตััะตะนั ั:
- ะะฝะพะฟะบะพะน "๐ ะะฐะณััะทะธัั ะดะฐะฝะฝัะต ะธ ัะพะทะดะฐัั ะธะฝะดะตะบัั"
- ะะตัะตะบะปััะฐัะตะปะตะผ ัะตะถะธะผะพะฒ (A ะธ B)
- ะะพะปะตะผ ะดะปั ะฒะฒะพะดะฐ ะฟะพะธัะบะพะฒะพะณะพ ะทะฐะฟัะพัะฐ
- ะะฝะพะฟะบะพะน "ะะฐะนัะธ"

---

## 6. ะขะตััะธัะพะฒะฐะฝะธะต ัะตัะตะฝะธั

### 6.1. ะะฝะธัะธะฐะปะธะทะฐัะธั ะธะฝะดะตะบัะพะฒ

1. ะัะบัะพะนัะต ะฟัะธะปะพะถะตะฝะธะต ะฒ ะฑัะฐัะทะตัะต (ัะผ. ัะฐะทะดะตะป "ะัะพะฒะตัะบะฐ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ")
2. (ะะฟัะธะพะฝะฐะปัะฝะพ) ะะฐัััะพะนัะต "ะะฐะบัะธะผะฐะปัะฝะพะต ะบะพะปะธัะตััะฒะพ ัะตะทัะปััะฐัะพะฒ ะฟะพะธัะบะฐ" (ะฟะพ ัะผะพะปัะฐะฝะธั 3)
3. ะะฐะถะผะธัะต ะบะฝะพะฟะบั "ะะฐะณััะทะธัั ะดะฐะฝะฝัะต ะธ ัะพะทะดะฐัั ะธะฝะดะตะบัั"
4. ะะพะถะดะธัะตัั ะทะฐะฒะตััะตะฝะธั ะฟัะพัะตััะฐ (1-2 ะผะธะฝััั)
5. ะ ัะตัะผะธะฝะฐะปะต ะฒั ัะฒะธะดะธัะต ะปะพะณะธ ะฟะฐัะฐะปะปะตะปัะฝะพะณะพ ะฒัะฟะพะปะฝะตะฝะธั:

```
==================================================
ะะฝะธัะธะฐะปะธะทะฐัะธั AI Search Demo (ะฟะฐัะฐะปะปะตะปัะฝะพ)
==================================================

๐ ะะฐะฟััะบะฐะตะผ 2 ะทะฐะดะฐั ะฟะฐัะฐะปะปะตะปัะฝะพ...

--------------------------------------------------
ะะตะถะธะผ A: ะะฒัะพะผะฐัะธัะตัะบะพะต ัะฐะฝะบะพะฒะฐะฝะธะต
--------------------------------------------------
ะะฐะณััะถะฐะตะผ ัะฐะนะป faq.txt...

--------------------------------------------------
ะะตะถะธะผ B: ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ัะฐะฝะบะธ
--------------------------------------------------
ะะฐะณััะถะฐะตะผ ัะฐะนะป faq_chunks.jsonl...
ะคะฐะนะป faq.txt ะทะฐะณััะถะตะฝ ั ID: file_xxx
ะกะพะทะดะฐะตะผ Vector Store 'FAQ Auto Chunking'...
Vector Store ัะพะทะดะฐะฝ ั ID: vs_xxx
ะะถะธะดะฐะตะผ ะณะพัะพะฒะฝะพััะธ ะธะฝะดะตะบัะฐ 'FAQ Auto Chunking'...
ะคะฐะนะป faq_chunks.jsonl ะทะฐะณััะถะตะฝ ั ID: file_yyy
ะกะพะทะดะฐะตะผ Vector Store 'FAQ Custom Chunks'...
Vector Store ัะพะทะดะฐะฝ ั ID: vs_yyy
ะะถะธะดะฐะตะผ ะณะพัะพะฒะฝะพััะธ ะธะฝะดะตะบัะฐ 'FAQ Custom Chunks'...
โ Vector Store 'FAQ Custom Chunks' ะณะพัะพะฒ!
โ Vector Store 'FAQ Auto Chunking' ะณะพัะพะฒ!

==================================================
โ ะะฝะธัะธะฐะปะธะทะฐัะธั ะทะฐะฒะตััะตะฝะฐ ััะฟะตัะฝะพ!
==================================================
```

**ะัะธะผะตัะฐะฝะธะต**: ะะพะณะธ ะฟะตัะตะผะตัะฐะฝั, ััะพ ะฟะพะดัะฒะตัะถะดะฐะตั ะฟะฐัะฐะปะปะตะปัะฝะพะต ะฒัะฟะพะปะฝะตะฝะธะต ะพะฑะตะธั ะทะฐะดะฐั.

### 6.2. ะขะตััะธัะพะฒะฐะฝะธะต ัะตะถะธะผะฐ A (ะะฒัะพะผะฐัะธัะตัะบะพะต ัะฐะฝะบะพะฒะฐะฝะธะต)

1. ะัะฑะตัะธัะต "ะะตะถะธะผ A" ะฒ ะธะฝัะตััะตะนัะต
2. ะะฒะตะดะธัะต ัะตััะพะฒัะน ะฒะพะฟัะพั: **"ะะพะถะฝะพ ะปะธ ัะฐะฑะพัะฐัั ะฑะตะท ะธะฝัะตัะฝะตัะฐ?"**
3. ะะฐะถะผะธัะต "ะะฐะนัะธ"
4. ะะทััะธัะต ัะตะทัะปััะฐัั:
   - ะัะฒะตั ะผะพะดะตะปะธ
   - ะะฐะนะดะตะฝะฝัะต ัะฐะฝะบะธ ั ะธั score ัะตะปะตะฒะฐะฝัะฝะพััะธ
   - ะะฑัะฐัะธัะต ะฒะฝะธะผะฐะฝะธะต, ััะพ ะฒะพะฟัะพั ะธ ะพัะฒะตั ะผะพะณัั ะฑััั ะฒ ัะฐะทะฝัั ัะฐะฝะบะฐั

### 6.3. ะขะตััะธัะพะฒะฐะฝะธะต ัะตะถะธะผะฐ B (ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ัะฐะฝะบะธ)

1. ะัะฑะตัะธัะต "ะะตะถะธะผ B" ะฒ ะธะฝัะตััะตะนัะต
2. ะะฒะตะดะธัะต ัะพั ะถะต ะฒะพะฟัะพั: **"ะะพะถะฝะพ ะปะธ ัะฐะฑะพัะฐัั ะฑะตะท ะธะฝัะตัะฝะตัะฐ?"**
3. ะะฐะถะผะธัะต "ะะฐะนัะธ"
4. ะกัะฐะฒะฝะธัะต ัะตะทัะปััะฐัั ั ัะตะถะธะผะพะผ A:
   - Score ัะตะปะตะฒะฐะฝัะฝะพััะธ ะดะพะปะถะตะฝ ะฑััั ะฒััะต
   - ะะพะฟัะพั ะธ ะพัะฒะตั ะฝะฐัะพะดัััั ะฒ ะพะดะฝะพะผ ัะฐะฝะบะต
   - ะัะฒะตั ะผะพะดะตะปะธ ะฑะพะปะตะต ัะพัะฝัะน ะธ ะฟะพะปะฝัะน

### 6.4. ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะตััะพะฒัะต ะฒะพะฟัะพัั

ะะพะฟัะพะฑัะนัะต ะดััะณะธะต ะฒะพะฟัะพัั ะธะท FAQ:

1. **"ะะฐะบะธะต ะผะพะดะตะปะธ ะดะพัััะฟะฝั ะฒ AI Studio?"**
2. **"ะะฐะบ ัะพะทะดะฐัั Vector Store?"**
3. **"ะงัะพ ัะฐะบะพะต ัะฐะฝะบะพะฒะฐะฝะธะต ะดะพะบัะผะตะฝัะพะฒ?"**
4. **"ะะฐะบะพะน ัะพัะผะฐั ะดะฐะฝะฝัั ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั ัะฐะฝะบะพะฒ?"**

ะะปั ะบะฐะถะดะพะณะพ ะฒะพะฟัะพัะฐ ััะฐะฒะฝะธัะต ัะตะทัะปััะฐัั ะผะตะถะดั ัะตะถะธะผะฐะผะธ A ะธ B.

### 6.5. ะขะตััะธัะพะฒะฐะฝะธะต ัะตัะตะท API

```bash

# ะะพะปััะตะฝะธะต ID Vector Stores
curl http://localhost:8000/api/stores

# ะะฝะธัะธะฐะปะธะทะฐัะธั ะธะฝะดะตะบัะพะฒ
curl -X POST http://localhost:8000/api/initialize

# ะะพะธัะบ ะฒ ัะตะถะธะผะต A (ะฐะฒัะพะผะฐัะธัะตัะบะพะต ัะฐะฝะบะพะฒะฐะฝะธะต)
curl -X POST http://localhost:8000/api/search \
  -H "Content-Type: application/json" \
  -d '{
    "query": "ะะพะถะฝะพ ะปะธ ัะฐะฑะพัะฐัั ะฑะตะท ะธะฝัะตัะฝะตัะฐ?",
    "mode": "auto",
    "max_num_results": 3
  }'

# ะะพะธัะบ ะฒ ัะตะถะธะผะต B (ะฟะพะปัะทะพะฒะฐัะตะปััะบะธะต ัะฐะฝะบะธ) ั ะฑะพะปััะธะผ ะบะพะปะธัะตััะฒะพะผ ัะตะทัะปััะฐัะพะฒ
curl -X POST http://localhost:8000/api/search \
  -H "Content-Type: application/json" \
  -d '{
    "query": "ะะพะถะฝะพ ะปะธ ัะฐะฑะพัะฐัั ะฑะตะท ะธะฝัะตัะฝะตัะฐ?",
    "mode": "chunks",
    "max_num_results": 5
  }'

# ะกะฑัะพั ะธะฝะดะตะบัะพะฒ
curl -X POST http://localhost:8000/api/reset

### 6.6. ะัะพะฒะตัะบะฐ ะปะพะณะพะฒ

```bash
# ะะปั ะปะพะบะฐะปัะฝะพะณะพ ะทะฐะฟััะบะฐ - ะปะพะณะธ ะฒัะฒะพะดัััั ะฒ ะบะพะฝัะพะปั

# ะะปั Docker
docker compose logs -f ai-search-demo
```

---

## 7. ะะตะทัะปััะฐัั ะธ ะฒัะฒะพะดั

### ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั

ะะพัะปะต ััะฟะตัะฝะพะณะพ ัะตััะธัะพะฒะฐะฝะธั ะฒั ัะฒะธะดะธัะต ัะฒะฝัั ัะฐะทะฝะธัั ะผะตะถะดั ะดะฒัะผั ัะตะถะธะผะฐะผะธ:

**ะะตะถะธะผ A (ะะฒัะพะผะฐัะธัะตัะบะพะต ัะฐะฝะบะพะฒะฐะฝะธะต):**
- Score ัะตะปะตะฒะฐะฝัะฝะพััะธ: ะพะฑััะฝะพ 0.6-0.8
- ะะพะฟัะพั ะธ ะพัะฒะตั ะผะพะณัั ะฑััั ัะฐะทะดะตะปะตะฝั
- ะัะฒะตั ะผะพะดะตะปะธ ะผะพะถะตั ะฑััั ะฝะตะฟะพะปะฝัะผ

**ะะตะถะธะผ B (ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ัะฐะฝะบะธ):**
- Score ัะตะปะตะฒะฐะฝัะฝะพััะธ: ะพะฑััะฝะพ 0.85-0.95
- ะะพะฟัะพั ะธ ะพัะฒะตั ะฒัะตะณะดะฐ ะฒะผะตััะต
- ะัะฒะตั ะผะพะดะตะปะธ ะฑะพะปะตะต ัะพัะฝัะน ะธ ะฟะพะปะฝัะน

### ะัะตะธะผััะตััะฒะฐ ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั ัะฐะฝะบะพะฒ

- **ะกะพััะฐะฝะตะฝะธะต ะปะพะณะธัะตัะบะพะน ัะตะปะพััะฝะพััะธ**: ะะพะฟัะพั ะธ ะพัะฒะตั ะพััะฐัััั ะฒะผะตััะต
- **ะะพะปะตะต ะฒััะพะบะธะน score ัะตะปะตะฒะฐะฝัะฝะพััะธ**: ะฃะปัััะตะฝะธะต ะฝะฐ 15-30%
- **ะะพะปะตะต ัะพัะฝัะต ะพัะฒะตัั ะผะพะดะตะปะธ**: ะะพะปะฝัะน ะบะพะฝัะตะบัั ะดะปั ะณะตะฝะตัะฐัะธะธ
- **ะญะบะพะฝะพะผะธั ัะพะบะตะฝะพะฒ**: ะะตะฝััะธะน ัะฐััะพะด ัะพะบะตะฝะพะฒ ะทะฐ ััะตั:
  - ะััััััะฒะธั ะดัะฑะปะธัะพะฒะฐะฝะธั ะบะพะฝัะตะบััะฐ ะผะตะถะดั ัะฐะฝะบะฐะผะธ
  - ะะพะปะตะต ัะพัะฝะพะณะพ ะฟะพะฟะฐะดะฐะฝะธั ะฒ ัะตะปะตะฒะฐะฝัะฝัะต ััะฐะณะผะตะฝัั
  - ะฃะผะตะฝััะตะฝะธั ะบะพะปะธัะตััะฒะฐ ะฝะตะพะฑัะพะดะธะผัั ัะฐะฝะบะพะฒ ะดะปั ะฟะพะปะฝะพะณะพ ะพัะฒะตัะฐ
- **ะะพะฝััะพะปั ะฝะฐะด ััััะบัััะพะน**: ะั ะพะฟัะตะดะตะปัะตัะต ะณัะฐะฝะธัั ัะฐะฝะบะพะฒ
- **ะะธะฑะบะพััั**: ะะดะฐะฟัะฐัะธั ะฟะพะด ัะฟะตัะธัะธะบั ะดะฐะฝะฝัั

### ะัะธะผะตะฝะตะฝะธะต ะฒ ัะตะฐะปัะฝัั ะฟัะพะตะบัะฐั

ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ัะฐะฝะบะธ ะพัะพะฑะตะฝะฝะพ ะฟะพะปะตะทะฝั ะดะปั:

1. **FAQ ัะธััะตะผั**: ะะฐะถะดัะน Q&A โ ะพัะดะตะปัะฝัะน ัะฐะฝะบ
2. **ะฎัะธะดะธัะตัะบะธะต ะดะพะบัะผะตะฝัั**: ะะฐะถะดะฐั ััะฐััั โ ะพัะดะตะปัะฝัะน ัะฐะฝะบ
3. **ะขะตัะฝะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั**: ะะฐะถะดัะน ัะฐะทะดะตะป โ ะพัะดะตะปัะฝัะน ัะฐะฝะบ
4. **ะะพะด**: ะะฐะถะดะฐั ััะฝะบัะธั/ะบะปะฐัั โ ะพัะดะตะปัะฝัะน ัะฐะฝะบ
5. **ะัะพะดัะบัะพะฒัะต ะบะฐัะฐะปะพะณะธ**: ะะฐะถะดัะน ัะพะฒะฐั โ ะพัะดะตะปัะฝัะน ัะฐะฝะบ

---

## 8. ะัะธััะบะฐ ัะตััััะพะฒ

### ะััะฐะฝะพะฒะบะฐ ะฟัะธะปะพะถะตะฝะธั

**ะะพะบะฐะปัะฝัะน ะทะฐะฟััะบ:**
```bash
# ะััะฐะฝะพะฒะบะฐ ะฟัะธะปะพะถะตะฝะธั (Ctrl+C ะฒ ัะตัะผะธะฝะฐะปะต)
```

**Docker:**
```bash
# ะััะฐะฝะพะฒะบะฐ ะบะพะฝัะตะนะฝะตัะฐ
docker compose down

# ะะพะปะฝะฐั ะพัะธััะบะฐ (ะฒะบะปััะฐั volumes)
docker compose down -v
```

### ะฃะดะฐะปะตะฝะธะต Vector Stores ะธ ัะฐะนะปะพะฒ

ะงะตัะตะท ะฒะตะฑ-ะธะฝัะตััะตะนั:
1. ะะฐะถะผะธัะต ะบะฝะพะฟะบั "ะฃะดะฐะปะธัั ะธะฝะดะตะบัั ะธ ัะฐะนะปั"
2. ะะพะดัะฒะตัะดะธัะต ะดะตะนััะฒะธะต ะฒ ะดะธะฐะปะพะณะพะฒะพะผ ะพะบะฝะต
3. ะะพะถะดะธัะตัั ะทะฐะฒะตััะตะฝะธั ัะดะฐะปะตะฝะธั

ะงะตัะตะท API:
```bash
curl -X POST http://localhost:8000/api/reset
```

ะญัะฐ ะพะฟะตัะฐัะธั ัะดะฐะปัะตั:
- ะะฑะฐ Vector Store (auto ะธ chunks)
- ะัะต ะทะฐะณััะถะตะฝะฝัะต ัะฐะนะปั ะธะท Files API

### ะฃะดะฐะปะตะฝะธะต ัะตัะฒะธัะฝะพะณะพ ะฐะบะบะฐัะฝัะฐ (ะพะฟัะธะพะฝะฐะปัะฝะพ)

```bash
# ะะพะปััะตะฝะธะต ID ัะตัะฒะธัะฝะพะณะพ ะฐะบะบะฐัะฝัะฐ
SA_ID=$(yc iam service-account get ai-search-demo-sa --format json | jq -r '.id')

# ะฃะดะฐะปะตะฝะธะต API ะบะปััะตะน
yc iam api-key list --service-account-id $SA_ID --format json | \
  jq -r '.[].id' | \
  xargs -I {} yc iam api-key delete {}

# ะฃะดะฐะปะตะฝะธะต ัะตัะฒะธัะฝะพะณะพ ะฐะบะบะฐัะฝัะฐ
yc iam service-account delete $SA_ID
```

---

## 9. ะะพะปะตะทะฝัะต ัััะปะบะธ

### ะะพะบัะผะตะฝัะฐัะธั Yandex Cloud

- [Yandex Cloud AI Studio](https://yandex.cloud/ru/docs/ai-studio/)
- [Vector Store API](https://yandex.cloud/ru/docs/ai-studio/concepts/search/vectorstore)
- [ะกะพะทะดะฐะฝะธะต ะฐะณะตะฝัะฐ ั ัะฐะฝะบะฐะผะธ](https://yandex.cloud/ru/docs/ai-studio/operations/agents/create-prechunked-search-agent)
- [ะฃะฟัะฐะฒะปะตะฝะธะต ะดะพัััะฟะพะผ ะฒ Yandex Cloud](https://cloud.yandex.ru/docs/iam/)
- [ะกะตัะฒะธัะฝัะต ะฐะบะบะฐัะฝัั](https://cloud.yandex.ru/docs/iam/concepts/users/service-accounts)

### ะะตะฟะพะทะธัะพัะธะน ะฟัะพะตะบัะฐ

- [GitHub: chunk_search](https://github.com/kirillmasanov/chunk_search)

### ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

- [FastAPI Documentation](https://fastapi.tiangolo.com/)
- [Docker Documentation](https://docs.docker.com/)
- [OpenAI SDK Documentation](https://platform.openai.com/docs/api-reference)

---

## ะัะธะผะตัะฐะฝะธั

### ะะณัะฐะฝะธัะตะฝะธั

- ะะฐะบัะธะผะฐะปัะฝัะน ัะฐะทะผะตั ัะฐะนะปะฐ: ะทะฐะฒะธัะธั ะพั ะปะธะผะธัะพะฒ Files API
- ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะพัะผะฐัั: TXT ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ัะฐะฝะบะพะฒะฐะฝะธั, JSONL ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั ัะฐะฝะบะพะฒ
- ะฏะทัะบ: ััััะบะธะน (ะผะพะถะฝะพ ะฝะฐัััะพะธัั ะฒ ะบะพะดะต)
- ะะพะดะตะปั: qwen3-235b-a22b-fp8/latest (ะผะพะถะฝะพ ะธะทะผะตะฝะธัั ะฒ `.env`)

### ะะตะบะพะผะตะฝะดะฐัะธะธ

- ะัะฟะพะปัะทัะนัะต ะฟะพะปัะทะพะฒะฐัะตะปััะบะธะต ัะฐะฝะบะธ ะดะปั ััััะบัััะธัะพะฒะฐะฝะฝัั ะดะฐะฝะฝัั (FAQ, ะดะพะบัะผะตะฝัะฐัะธั, ะบะฐัะฐะปะพะณะธ)
- ะะปั ะฝะตััััะบัััะธัะพะฒะฐะฝะฝะพะณะพ ัะตะบััะฐ ะฐะฒัะพะผะฐัะธัะตัะบะพะต ัะฐะฝะบะพะฒะฐะฝะธะต ะผะพะถะตั ะฑััั ะดะพััะฐัะพัะฝัะผ
- ะะฟัะธะผะฐะปัะฝัะน ัะฐะทะผะตั ัะฐะฝะบะฐ: 500-2000 ัะพะบะตะฝะพะฒ (~400-1500 ัะปะพะฒ)
- ะะปั production ัะฐะทะฒะตัััะฒะฐะฝะธั:
  - ะัะฟะพะปัะทัะนัะต HTTPS ัะตัะตะท reverse proxy (nginx/traefik)
  - ะะฐัััะพะนัะต ะผะพะฝะธัะพัะธะฝะณ ะธ ะปะพะณะธัะพะฒะฐะฝะธะต
  - ะะตะณัะปััะฝะพ ะพะฑะฝะพะฒะปัะนัะต ะทะฐะฒะธัะธะผะพััะธ
  - ะะฐััะผะพััะธัะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ะฟะพััะพัะฝะฝะพะณะพ ััะฐะฝะธะปะธัะฐ ะดะปั Vector Stores

### ะกัะพะธะผะพััั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

ะกัะพะธะผะพััั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะทะฐะฒะธัะธั ะพั:
- ะะพะปะธัะตััะฒะฐ ัะพะทะดะฐะฒะฐะตะผัั Vector Stores
- ะะฑัะตะผะฐ ะทะฐะณััะถะฐะตะผัั ะดะฐะฝะฝัั
- ะะพะปะธัะตััะฒะฐ ะฟะพะธัะบะพะฒัั ะทะฐะฟัะพัะพะฒ
- ะัะฟะพะปัะทะพะฒะฐะฝะธั ะผะพะดะตะปะธ ะดะปั ะณะตะฝะตัะฐัะธะธ ะพัะฒะตัะพะฒ

ะะบััะฐะปัะฝัะต ัะตะฝั ัะผ. ะฝะฐ ัััะฐะฝะธัะต ัะฐัะธัะพะฒ [Yandex Cloud AI Studio](https://yandex.cloud/ru/docs/ai-studio/pricing).